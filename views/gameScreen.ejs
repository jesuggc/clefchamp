<!DOCTYPE html>
<html lang="es">
  <%-include('partials/head') %>
  <body class="colorNuevo5">
    <div class="vh-90" id="mainContent">
      <div class="d-flex py-4 justify-content-center align-items-center">
        <a href="<% if (locals.mode !== "TRIAL" ) { %>/play/selectGame<% } else { %>/<% } %>"><img src="/images/icons/close.svg" class="svgGame mx-4"></a>
        <div class="progress w-50 rounded-4" style="height: 20px;">
          <div id="progressBar" class="progress-bar progress-bar-striped bg-success slider" role="progressbar" aria-label="Success striped example" style="width: 0%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <img id="helpBtn" src="/images/icons/help.svg" class="svgGame mx-4">
      </div>
      <%-include('partials/playground') %>
      <div id="divResultados" class="mx-auto box rounded-4 p-4 d-flex flex-column text-center mt-5" >
        <div id="resultDiv">
          <h1 id="resultSpan"></h1>
        </div> 
        <div id="experienceDiv">
          <h3 id="experienceSpan"></h3>
        </div>
        <div id="createAccountDiv" class="p-2">
          <a href="/users/register"><button class="acceptButton">Crear cuenta</button></a>
        </div>
        <% if (locals.mode !== "TRIAL" ) { %>
          <div id="totalExpDiv" class="colorNuevo5 rounded-4 p-2">
            <h2>Nivel <span id="levelSpan"><%=locals.user.level%></span></h2>
            <div class="progress" role="progressbar" aria-label="Example 1px high" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100" style="height: 8px; background-color: white;">
              <% const progress = ((locals.user.experience) / (locals.user.experience + locals.user.experienceToNext)) * 100; %>
              <div id="experienceBar" class="progress-bar" style="width: <%=progress%>%"></div>
            </div>
          </div>
          <div id="playAgainDiv" class="p-2">
            <button id="playAgainBtn" class="acceptButton-sm">Volver a jugar</button>
          </div>
        <% } %>
      </div>
      <div class="d-flex align-items-center justify-content-center">
        <button id="startBtn" class="acceptButton mt-4 d-flex flex-column align-items-center" style="padding: 0.5em 2em 1em 2em;" >
            <span>Comenzar</span>
            <span class="fs-6" style="margin-top: -0.5em;">[Espacio]</span>
        </button>
      </div>
    </div>
    <%-include('partials/modal/tutorial') %>
    <%-include('partials/modal/levelUp') %>
    <script src="https://cdn.jsdelivr.net/npm/vexflow@4.2.2/build/cjs/vexflow.js"></script>
    <script type="module" src="/javascripts/vexManager.js"></script>
    <script type="module" src="/javascripts/cronometro.js"></script>
    <script type="module" src="/javascripts/animations.js"></script>
    <script type="module" src="/javascripts/gameCore.js"></script>
    <script src="/javascripts/dontShowAgain.js"></script>
  </body>
</html>