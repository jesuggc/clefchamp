<!DOCTYPE html>
<html lang="es">
  <%-include('partials/head') %>
  <body class="colorNuevo5">
      <%-include('partials/header') %>
      <div class="row d-flex">
        <div class="col scrollable container-fluid vh-90 mx-5">
          <div class="row d-flex justify-content-between align-items-center">
            <div class="col">

              <h1>Amigos</h1>
            </div>
            <div class="col d-flex justify-content-center align-items-center">

              <button class=" acceptButton-sm" id="searchFriend">Buscar amigos</button>
            </div>
            <div class="col"></div>
          </div>
          <div class="row bg-15 rounded-4 mx-1 px-2">
              <h1 id="friendsBtn" class="col mx-5 text-center cursorPointer" style="margin-bottom: 0;">Amigos</h1>
              <h1 id="sentRequestBtn" class="col mx-5 text-center cursorPointer" style="margin-bottom: 0;">Solicitudes enviadas</h1>
              <h1 id="recivedRequestBtn" class="col mx-5 text-center cursorPointer" style="margin-bottom: 0;">Solicitudes recibidas</h1>
          </div>
          <div class="row">
            <div class="col d-flex justify-content-center">
              <%if(friendList.length===0) { %>
                <p class="friendsDiv">Aun no has añadido a ningún amigo.</p>
              <% } else { %>
                <% friendList.forEach(ele => { %>
                  <div class="row mt-4 py-1 bg-10 rounded-3 friendsDiv friend<%=ele.id%>">
                    <div class="col d-flex justify-content-center">
                      <div style="background-color: <%=ele.bgColor%>;" class="p-2 rounded-circle">
                        <img class="friendIcon" src="/images/svg/<%=ele.path%>">
                      </div>
                    </div>
                    <div class="col d-flex align-items-center justify-content-center">
                      <h3 class="col"><%=ele.tagname%></h3>
                      
                    </div>
                    <div class="col d-flex align-items-center justify-content-center">
                      <div class="p-1 rounded-circle bg-warning">
                        <button style="all: unset; cursor: pointer; " title="Eliminar amigo"><img src="/images/unfriend.svg" class="actionDeleteIcon" data-id="<%=ele.id%>"></button>
                      </div>
                    </div>
                  </div>
                <% }); %>
              <% } %>
              <% if(sentList.length === 0) { %>
                <p class="sentRequestDiv" hidden>No tienes ninguna solicitud enviada pendiente.</p>
              <% } else { %>
                <% sentList.forEach(ele => { %>
                  <div class="row mt-4 py-1 bg-10 rounded-3 sentRequestDiv sent<%=ele.id%>" hidden>
                    <div class="col d-flex justify-content-center">
                      <div style="background-color: <%=ele.bgColor%>;" class="p-2 rounded-circle">
                        <img class="friendIcon" src="/images/svg/<%=ele.path%>">
                      </div>
                    </div>
                    <div class="col d-flex align-items-center justify-content-center">
                      <h3 class="col"><%=ele.tagname%></h3>
                      
                    </div>
                    <div class="col d-flex align-items-center justify-content-center">
                      <div class="p-1 rounded-circle">
                        <button style="all: unset; cursor: pointer;" title="Cancelar petición"><img src="/images/icons/cancel.svg" class="actionCancelIcon" data-id="<%=ele.id%>"></button>
                      </div>
                    </div>
                  </div>
                <% }); %>
              <% } %>
              <%if(receivedList.length===0) { %>
                <p class="recivedRequestDiv" hidden>No tienes ninguna solictud recibida pendiente.</p>
              <% } else { %>
                <% receivedList.forEach(ele => { %>
                  <div class="row mt-4 py-1 bg-10 rounded-3 recivedRequestDiv recived<%=ele.id%>" hidden>
                    <div class="col d-flex justify-content-center">
                      <div style="background-color: <%=ele.bgColor%>;" class="p-2 rounded-circle">
                        <img class="friendIcon" src="/images/svg/<%=ele.path%>">
                      </div>
                    </div>
                    <div class="col d-flex align-items-center justify-content-center">
                      <h3 class="col"><%=ele.tagname%></h3>
                    </div>
                    <div class="col d-flex align-items-center justify-content-center">
                      <div class="p-1 rounded-circle">
                        <button style="all: unset; cursor: pointer; " title="Aceptar solicitud"><img src="/images/icons/accept.svg" class="actionFriendIcon" data-id="<%=ele.id%>"></button>
                      </div>
                      <div class="p-1 rounded-circle">
                        <button style="all: unset; cursor: pointer; " title="Rechazar solicitud"><img src="/images/icons/reject.svg" class="actionUnfriendIcon" data-id="<%=ele.id%>"></button>
                      </div>
                    </div>
                  </div>
                <% }); %>
              <% } %>
            </div>
          </div>
        </div>
      </div>
      <%-include('partials/modal/searchFriend') %>
    <script src="/javascripts/friends.js"></script>
  </body>
</html>
